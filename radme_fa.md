# افزونه مالیات بر ارزش افزوده اختیاری برای ووکامرس

این افزونه امکان اضافه کردن مالیات بر ارزش افزوده را به صورت اختیاری در صفحه تسویه حساب ووکامرس فراهم می کند. مشتری با یک چک باکس می تواند پرداخت مالیات را انتخاب کند و جمع کل به صورت لحظه ای به روزرسانی می شود.

## ویژگی ها
- چک باکس انتخاب مالیات در تسویه حساب
- محاسبه درصدی روی سبد خرید
- به روزرسانی لحظه ای مجموع سفارش
- ذخیره اطلاعات در سفارش، ایمیل و پنل مدیریت
- سازگار با HPOS

## نصب
1. پوشه `optional-vat-fee-for-woocommerce` را در مسیر `/wp-content/plugins/` آپلود کنید.
2. افزونه را از بخش افزونه ها فعال کنید.
3. از مسیر WooCommerce > Settings > VAT Fee تنظیمات را انجام دهید.

## تنظیمات
- فعال سازی: نمایش یا عدم نمایش چک باکس.
- درصد: عدد بین 0 تا 100 (اعشار مجاز است).
- شامل هزینه ارسال: اگر فعال باشد، هزینه ارسال هم در مبنای محاسبه لحاظ می شود.
- برچسب چک باکس: متن نمایش داده شده در تسویه حساب (می توانید از `{percentage}` استفاده کنید).
- برچسب هزینه: متن سطر هزینه در جمع کل سفارش (درصد به صورت خودکار اضافه می شود).

## نحوه استفاده
1. کاربر در صفحه تسویه حساب چک باکس مالیات را انتخاب می کند.
2. نوع شخص را انتخاب می کند:
   - حقیقی: کد ملی (اجباری)
   - حقوقی: نام حقوقی، شناسه ملی و تلفن ثابت (اجباری)
3. هزینه مالیات به جمع کل اضافه می شود و در سفارش ذخیره می گردد.

## نکات مهم
- فقط با تسویه حساب کلاسیک (shortcode) کار می کند؛ در تسویه حساب بلوکی نمایش داده نمی شود.
- مبلغ مالیات غیرقابل مالیات است و مالیات دیگری روی آن اعمال نمی شود.
- مبنای محاسبه، جمع سبد بعد از تخفیف و کوپن ها است (بدون مالیات).

## لینک پروژه
https://github.com/hamidrrz/optional-vat-fee-for-woocommerce
